<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catálogo de Productos</title>

  <!-- Agrega los estilos y scripts de Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <style>
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 20px;
      background-color: #fff;
      border: 1px solid #ccc;
      z-index: 1;
    }

    .producto-container {
      text-align: center;
      margin-bottom: 20px;
    }

    .producto-container img {
      max-width: 25%; 
      height: auto;
    }

    .producto-container button {
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <!-- Empieza la nav bar -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">VerdeVida</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item logged-out">
            <a
              class="nav-link"
              href="#"
              data-bs-toggle="modal"
              data-bs-target="#signinModal"
              >Sign In</a
            >
          </li>
          <li class="nav-item logged-out">
            <a
              class="nav-link"
              href="#"
              data-bs-toggle="modal"
              data-bs-target="#signupModal"
              >Sign Up</a
            >
          </li>
          <li class="nav-item logged-in">
            <a class="nav-link" href="#" id="logout">Log Out</a>
          </li>
          <li class="nav-item logged-in">
            <a class="nav-link" href="#" id="https://pngimg.com/uploads/shopping_cart/shopping_cart_PNG38.png"><img src="" alt=""></a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <h1>Catálogo de Productos</h1>

  <div id="catalogo"></div>

  <div id="popup" class="popup">
    <div id="carouselExample" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner" id="carouselInner"></div>
      <a class="carousel-control-prev" href="#carouselExample" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExample" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
    <button id="cerrarPopup" class="btn btn-danger">Cerrar</button>
  </div>

  <script>


    // Llamada al archivo JSON
    let productos;

    fetch('productos.json')
      .then(response => response.json())
      .then(data => {
        productos = data;
        const catalogoDiv = document.getElementById('catalogo');
        data.forEach(producto => {
          catalogoDiv.innerHTML += `
            <div class="producto-container">
              <h2>${producto.nombre}</h2>
              <img src="${producto.imagen}" alt="${producto.nombre}" class="img-fluid">
              <button class="btn btn-primary" onclick="mostrarPopup(${producto.id})">Ver más</button>
            </div>
          `;
        });
      })
      .catch(error => console.error('Error al cargar el archivo JSON:', error));

    // Función para mostrar el popup con más información
    function mostrarPopup(id) {
      const popupDiv = document.getElementById('popup');
      const carouselInner = document.getElementById('carouselInner');

      // Puedes personalizar esto para obtener información específica del producto
      const producto = obtenerProductoPorId(id);

      // Limpiar el contenido previo del carrusel
      carouselInner.innerHTML = '';

      // Agregar imágenes al carrusel
      producto.imagenes.forEach((imagen, index) => {
        const activeClass = index === 0 ? 'active' : '';
        carouselInner.innerHTML += `
          <div class="carousel-item ${activeClass}">
            <img src="${imagen}" class="d-block w-100" alt="Imagen ${index + 1}">
          </div>
        `;
      });

      // Mostrar el popup
      popupDiv.style.display = 'block';
    }

    // Función para obtener el producto por su ID (simulación)
    function obtenerProductoPorId(id) {
      // Buscar el producto en el array de productos por su ID
      const productoEncontrado = productos.find(producto => producto.id === id);

      // Verificar si se encontró el producto
      if (productoEncontrado) {
        return productoEncontrado;
      } else {
        console.error('Producto no encontrado');
        return null; // Otra opción es devolver un objeto vacío o algo que indique que el producto no se encontró
      }
    }

    // Cerrar el popup al hacer clic en el botón "Cerrar"
    document.getElementById('cerrarPopup').addEventListener('click', function() {
      document.getElementById('popup').style.display = 'none';
    });
  </script>

</body>
</html>




